<!DOCTYPE html>
<html lang="ar" dir="rtl"> 
<head>
  <meta charset="UTF-8">
  <title>نادي كلباء الرياضي الثقافي</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  
   <style>  
    @font-face {
      font-family: 'NotoKufiArabic';
      src: url('NotoKufiArabic.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }
    
    @font-face {
      font-family: 'NotoKufiArabic';
      src: url('NotoKufiArabic-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    
    body {
      font-family: 'NotoKufiArabic', sans-serif;
      background: url('black_and_yellow_grunge_background.jpg') no-repeat center center fixed;
      background-size: cover;
      color: white;
      margin: 0;
      padding: 0;
      direction: rtl;
    }
    
header {
  background-color: #111;
  padding: 16px 5%;
  margin: 0 auto;
  width: 90%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 3px solid #f4e733;
  position: sticky;
  top: 0;
  z-index: 1001;
  flex-wrap: wrap;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 15px;
  flex: 1;
  min-width: 0;
}

.header-right img.logo {
  height: 70px;
  object-fit: contain;
}

.header-right .divider {
  width: 1.5px;
  height: 65px;
  background-color: #f4e733;
}

.header-info {
  text-align: right;
  min-width: 0;
}

.header-info .arabic-name {
  font-weight: bold;
  font-size: 18px;
  margin: 0;
}

.header-info .english-name {
  font-size: 16px;
  color: #f4e733;
  margin: 0;
}

.nav-links {
  display: flex;
  gap: 70px;
  flex-wrap: wrap;
}

.nav-links a {
  color: #f4e733;
  text-decoration: none;
  font-weight: bold;
  font-size: 14px;
  transition: color 0.3s;
  white-space: nowrap;
}

.nav-links a:hover { color: #fff; }

.menu-toggle {
  display: none;
  font-size: 24px;
  background: none;
  border: none;
  color: #f4e733;
  cursor: pointer;
  padding: 5px;
}

body.no-scroll { overflow: hidden; }

    .hero-carousel {
      width: 100%;
      display: flex;  
      justify-content: center;
      align-items: center;
      background: transparent;
      padding: 40px 0;
    }
     
    .carousel-container {
      width: 88%;
      max-width: 1170px;
      margin: 40px auto;       
      position: relative;
      z-index: 1;
      height: 520px;
      background: #000;
      border: 2px solid #f4e733;
      border-radius: 16px;
      overflow: hidden;            
    }
    
    .carousel-slide {
      display: none;
      position: absolute; 
      top: 0; 
      left: 0;
      width: 100%; 
      height: 100%;
    }
    
    .carousel-slide img {
      width: 100%; 
      height: 100%;
      object-fit: cover;
      border-radius: 0;            
    }
    
    .caption {
      position: absolute; 
      left: 0; 
      right: 0; 
      bottom: 0;
      padding: 15px 20px;
      background: rgba(0, 0, 0, 0.7);
      color: #fff; 
      text-align: right;
      height: auto;                 
      border-radius: 0;           
      overflow: hidden;
      z-index: 2;
    }
    
    .prev, .next {
      cursor: pointer;
      position: absolute; 
      top: 50%;
      transform: translateY(-50%);
      padding: 12px;
      color: #fff; 
      font-size: 22px;
      background-color: rgba(0,0,0,0.5);
      border-radius: 10px;
      user-select: none;
      transition: .3s;
      z-index: 3;                  
    }
    
    .prev:hover, .next:hover { 
      background-color: #f4e733; 
      color: #000; 
    }
    
    .prev { 
      left: 10px; 
    }
    
    .next { 
      right: 10px; 
    }
    
    .fade {
      animation: fade 1s ease-in-out;
    }
    
    @keyframes fade {
      from { opacity: 0.4; }
      to { opacity: 1; }
    }
    
    .info-container {
      width: 88%;           
      max-width: 1170px;
      margin: 40px auto;
      border: 2px solid #f4e733;
      border-radius: 16px;
      background: #000;
      padding: 28px;
      box-shadow: 0 6px 20px rgba(0,0,0,.3);
      position: relative;
      z-index: 1;
    }
    
    .info-container h2 { 
      color: #f4e733; 
      margin: 0 0 12px; 
      font-size: 22px; 
    }
    
    .info-container p, .info-container li { 
      color: #eee; 
      line-height: 1.9; 
      font-size: 16px; 
    }
    
    .section { 
      padding: 40px 0; 
      scroll-margin-top: 110px; 
      display: none;
    }
    
    .section.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .side-menu {
      position: fixed;
      top: 50vh;
      transform: translateY(-50%);
      right: 12px;                
      width: 120px;
      padding: 16px 14px;
      border-radius: 18px;
      border: 1.8px solid #f4e733;
      background: linear-gradient(180deg, rgba(0,0,0,.88), rgba(0,0,0,.92));
      backdrop-filter: blur(6px);
      box-shadow: 0 10px 35px rgba(0,0,0,.45), 0 0 0 1px rgba(244,231,51,.08) inset;
      display: flex; 
      flex-direction: column; 
      gap: 10px;
      z-index: 1000;
      max-height: calc(100vh - var(--headerH, 72px) - 32px);
      overflow: auto;
      overscroll-behavior: contain;
    }
    
    .side-menu::-webkit-scrollbar { 
      display: none; 
    }
    
    .side-menu::after {
      content: ""; 
      position: absolute; 
      inset: -2px; 
      border-radius: 20px;
      pointer-events: none;
      box-shadow: 0 0 25px rgba(244,231,51,.18);
    }
    
    .side-menu a {
      --i: 0;
      position: relative;
      display: flex; 
      align-items: center; 
      justify-content: center;
      padding: 12px 14px; 
      border-radius: 12px;
      font-weight: 800; 
      letter-spacing: .15px; 
      font-size: 14px;
      color: #fff; 
      text-decoration: none; 
      text-align: center;
      background: radial-gradient(100% 100% at 50% 0%, rgba(255,255,255,.04), rgba(0,0,0,.28));
      border: 1px solid rgba(255,255,255,.08);
      box-shadow: 0 4px 12px rgba(0,0,0,.25);
      transition: transform .25s ease, box-shadow .25s ease, color .25s ease, border-color .25s ease;
      isolation: isolate;
      overflow: hidden;
      animation: sm-pop .45s cubic-bezier(.2,.9,.2,1) both;
      animation-delay: calc(var(--i) * 70ms);
    }
    
    .side-menu a::before {
      content: ""; 
      position: absolute; 
      inset: -1px; 
      border-radius: 12px;
      background: radial-gradient(120px 120px at var(--mx,50%) var(--my,50%), rgba(244,231,51,.18), transparent 50%);
      opacity: 0; 
      transition: opacity .25s ease;
    }
    
    .side-menu a:hover {
      transform: translateX(-4px);
      border-color: rgba(244,231,51,.5);
      box-shadow: 0 10px 24px rgba(244,231,51,.18), 0 0 0 1px rgba(244,231,51,.22) inset;
      color: #f4e733;
    }
    
    .side-menu a:hover::before { 
      opacity: 1; 
    }
    
    .side-menu a:active { 
      transform: translateX(-2px) translateY(1px); 
    }
    
    .side-menu a.active {
      color: #0a0a0a;
      background: linear-gradient(180deg,#f4e733,#c9b812);
      border-color: #000;
      box-shadow: 0 10px 28px rgba(244,231,51,.35), 0 0 0 1px rgba(0,0,0,.6) inset;
    }
    
    .side-menu .sm-indicator {
      position: absolute; 
      right: 100%; 
      top: 0;
      width: 4px; 
      height: 40px; 
      border-radius: 6px;
      background: linear-gradient(180deg,#f4e733,#fff17a);
      box-shadow: 0 0 14px rgba(244,231,51,.55);
      transform: translateX(8px);
      transition: top .35s cubic-bezier(.2,.9,.2,1), height .35s;
    }
    
    @keyframes sm-pop {
      0% { transform: translateX(12px); opacity: 0; }
      100% { transform: translateX(0); opacity: 1; }
    }
    
    .org-structure {
      padding: 20px;
      font-family: 'NotoKufiArabic', sans-serif;
      text-align: center;
    }
    
    .org-level {
      margin-bottom: 40px;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .org-title {
      color: #f4e733;
      font-size: 24px;
      margin-bottom: 30px;
      padding-bottom: 10px;
      border-bottom: 3px solid #f4e733;
      display: inline-block;
      font-weight: bold;
      text-align: center;
    }
    
    .org-row {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 25px;
      position: relative;
      justify-content: center;
      width: 100%;
    }
    
    .org-item {
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 10px;
      border: 2px solid #f4e733;
      min-width: 220px;
      text-align: center;
      position: relative;
      z-index: 2;
      transition: all 0.3s ease;
    }
    
    .org-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(244, 231, 51, 0.3);
    }
    
    .org-connector-line {
      position: absolute;
      background: #f4e733;
      z-index: 1;
    }
    
    .connector-vertical {
      width: 3px;
      height: 40px;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
    }
    
    .connector-horizontal {
      height: 3px;
      width: 80%;
      top: -20px;
      left: 10%;
    }
    
    .connector-arrow {
      position: absolute;
      top: -25px;
      left: 50%;
      transform: translateX(-50%);
      color: #f4e733;
      font-size: 20px;
      font-weight: bold;
    }
    
    .org-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      padding-top: 30px;
    }
    
    .org-group::before {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 20px;
      background: #f4e733;
    }
    
    .org-subgroup {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      position: relative;
      padding-top: 20px;
    }
    
    .org-subgroup::before {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      right: 50%;
      height: 2px;
      background: #f4e733;
    }
    
    .org-connector {
      position: relative;
      margin: 15px 0;
    }
    
    .org-connector::before {
      content: "";
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 10px;
      background: #f4e733;
    }
    
    footer {
      background-color: #000;
      color: white;
      padding: 30px 5%;
      margin: 0 auto;	
      width: 90%;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      flex-wrap: wrap;
      gap: 40px;
      direction: rtl;
      border-top: 3px solid #f4e733;
      text-align: right;
    }
    
    .footer-column {
      flex: 1;
      min-width: 250px;
    }
    
    .footer-bottom {
      width: 100%;
      text-align: center;
      padding-top: 15px;
      border-top: 1px solid #444;
      color: #888;
      font-size: 14px;
      margin-top: 30px;
    }
    
    .footer-column a {
      color: #ccc;
      text-decoration: none;
      display: block;
      margin-bottom: 8px;
      transition: color 0.3s;
    }
    
    .footer-column a:hover {
      color: #f4e733;
    }
    
    .social-icons {
      display: flex;
      gap: 15px;
      margin-top: 15px;
    }
    
    .social-icons a {
      color: white;
      font-size: 20px;
      transition: color 0.3s;
    }
    
    .social-icons a:hover {
      color: #f4e733;
    }
    
    footer form {
      margin-top: 15px;
    }
    
    footer textarea {
      width: 100%;
      height: 150px;
      background: #222;
      color: white;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #444;
      resize: vertical;
    }
    
    footer button[type="submit"] {
      background-color: #f4e733;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      margin-top: 10px;
      transition: background-color 0.3s;
    }
    
    footer button[type="submit"]:hover {
      background-color: #d8cf2e;
    }
    
    #chat-box {
      position: fixed;
      bottom: 90px;
      right: 20px;
      background-color: white;
      color: black;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      padding: 0;
      max-width: 90%;
      width: 360px;
      min-height: 300px;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.5s ease, transform 0.5s ease;
      display: none;
      z-index: 9999;
      overflow-y: auto;
      max-height: 90vh;
    }
    
    .chat-header {
      display: flex;
      justify-content: flex-start;
      padding: 12px 15px;
      border-bottom: 1px solid #ccc;
      background: #f4e733;
      border-radius: 12px 12px 0 0;
    }
    
    .chat-header span {
      font-size: 18px;
      font-weight: bold;
      color: #000;
      cursor: pointer;
    }
    
    .chat-body {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
      max-height: 450px;
    }
    
    .chat-footer {
      display: flex;
      align-items: center;
      padding: 10px;
      border-top: 1px solid #ccc;
      background: white;
      gap: 10px;
    }
    
    .chat-footer input {
      flex: 1;
      padding: 10px;
      border-radius: 20px;
      border: 1px solid #ccc;
      font-size: 15px;
    }
    
    .chat-footer button {
      background: #f4e733;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    
    #chat-box::-webkit-scrollbar {
      width: 8px;
      border-radius: 12px;
    }
    
    #chat-box::-webkit-scrollbar-track {
      background: transparent;
      border-radius: 12px;
    }
    
    #chat-box::-webkit-scrollbar-thumb {
      background-color: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
    }
    
    .message-wrapper {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin: 10px;
    }
    
    .message-wrapper.user {
      flex-direction: row-reverse;
    }
    
    .avatar {
      width: 36px;
      height: 36px;
      background-size: cover;
      background-position: center;
      border-radius: 50%;
      background-color: #ddd;
    }
    
    .content {
      background-color: #f4e733;
      padding: 10px;
      border-radius: 10px;
      max-width: 75%;
      font-size: 16px;
    }
    
    .message-wrapper.bot .content {
      background-color: #eee;
      color: #000;
    }
    
    .button-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
    
    .chat-btn {
      background-color: #f4e733;
      color: #000;
      border: none;
      border-radius: 5px;
      padding: 10px 16px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s;
    }
    
    .chat-btn:hover {
      background-color: #d8cf2e;
    }
    
    .typing-dots span {
      animation: blink 1s infinite;
      font-weight: bold;
      font-size: 24px;
      margin: 0 1px;
    }
    
    .typing-dots span:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .typing-dots span:nth-child(3) {
      animation-delay: 0.4s;
    }
    
    @keyframes blink {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }
    
    #chat-wrapper {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 10px;
    }
    
    #chat-tooltip {
      background: white;
      color: black;
      padding: 10px 14px;
      border-radius: 14px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      font-weight: bold;
      font-size: 14px;
      max-width: 260px;
      direction: rtl;
      text-align: right;
      position: absolute;
      bottom: 80px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 9999;
      line-height: 1.4;
    }
    
    #chat-toggle {
      position: relative;
      background-color: transparent;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      cursor: pointer;
      padding: 0;
    }
    
    #chat-badge {
      position: absolute;
      top: -5px;
      left: -5px;
      background: red;
      color: white;
      font-size: 12px;
      font-weight: bold;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .side-menu.top-nav {
      position: fixed;
      right: 0; 
      left: 0;
      top: calc(var(--headerH, 72px) + env(safe-area-inset-top));
      width: 88%;
      max-width: 1170px;
      margin: 0 auto;           
      z-index: 1002;

  	  display: flex;
  	  flex-direction: row;
 	  flex-wrap: nowrap;
	  gap: 8px;
	  padding: 10px 8px;

      background: rgba(0,0,0,0.95);
      border: 0;
      border-bottom: 2px solid #f4e733;
      border-radius: 0 0 14px 14px;

      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-x;
      overscroll-behavior-inline: contain;

     scroll-snap-type: x proximity;
     scrollbar-width: none; 
    }
    
.side-menu.top-nav {
  position: relative; /* needed for the indicator */
}

.side-menu.top-nav .sm-indicator {
  position: absolute;
  bottom: 0;
  height: 3px;
  background: #f4e733;
  border-radius: 2px;
  width: 0;
  transform: translateX(0);
  transition: transform 260ms cubic-bezier(.2,.8,.2,1),
              width 260ms cubic-bezier(.2,.8,.2,1);
  pointer-events: none;
}

    .side-menu.top-nav.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
.side-menu.top-nav a {
  flex: 0 0 auto;
  min-width: 120px;
  white-space: nowrap;
  scroll-snap-align: center;
}

    .side-menu.top-nav::-webkit-scrollbar { display: none; }   
    .side-menu.top-nav .sm-indicator { display: none; }
    
body.with-top-nav {
  padding-top: 0 !important;
}

.main-nav {
  display: flex;
  justify-content: center;  
  gap: 42px;                 
  padding: 0;
  margin: 0;
  direction: rtl;            
}
.main-nav a {
  text-decoration: none;
  color: #fff;
  font-weight: 700;
  font-size: 16px;
  padding: 18px 0;
  transition: color .2s;
}

.main-nav a:hover {
  color: #f4e733; 
}

.mobile-nav { display: none; }


@media (max-width: 600px) {
  #chat-box .chat-header { display:flex !important; }
  #inner-input-bar.active { display:flex !important; }
  
  #chat-tooltip {
    font-size: 12px !important;
    padding: 8px 10px !important;
    right: 8px !important;
    bottom: 60px !important;
  }
.chat-body {
    flex: 1;
    overflow-y: auto !important;
    padding: 10px !important;
  }

  .chat-footer input {
    font-size: 14px !important;
    padding: 6px !important;
  }

  .chat-footer button {
    width: 34px !important;
    height: 34px !important;
  }

  .chat-btn {
    font-size: 14px !important;
    padding: 10px 14px !important;
  }

  .content {
    font-size: 15px !important;
  }

  .message-wrapper {
    margin: 6px !important;
    gap: 8px !important;
  }

  header h1 {
    font-size: 18px !important;
  }

  header img {
    height: 50px !important;
  }
}

@media (max-width: 768px) {
  #chat-box .chat-header { display:flex !important; padding: 8px 10px !important; }
  #inner-input-bar.active { display:flex !important; }
  
  #chat-box {
    width: 94% !important;
    right: 3% !important;
    height: 460px !important;
    max-height: 70vh !important;
  }
	
  #chat-box.open {
    display: flex !important;
    flex-direction: column !important;
  }
	
  .chat-body {
    max-height: 55vh !important;
    overflow-y: auto !important;
  }
  *, *::before, *::after { box-sizing: border-box; }

  img, video, iframe { max-width: 100%; height: auto; }

  :where(p, h1, h2, h3, h4, h5, h6, a, li, td) { overflow-wrap: anywhere; }
	
  .menu-toggle { display: inline-block; font-size: 24px; color: #f4e733; background: none; border: 0; cursor: pointer; }
	
  #chat-box[style*="display: none"] { pointer-events: none; }
   .nav-links { pointer-events: none; }
   .nav-links.show { pointer-events: auto; }
	
  .nav-links {
    position: fixed; top: 0; right: -100%;
    width: 78%; height: 100vh; padding: 70px 20px;
    background: #000; border-left: 2px solid #f4e733;
    display: flex; flex-direction: column; gap: 10px;
    transition: right .3s ease;
    z-index: 1000;
  }
  .mobile-nav { display: block !important; }	
  .nav-links.show { right: 0; }
  .nav-links a { padding: 12px 0; border-bottom: 1px solid #222; }

  body { background-attachment: scroll !important; }

  .header-info .arabic-name,
  .header-info .english-name {
    white-space: nowrap;        
    line-height: 1.2;
  }

  .header-right { gap: 6px !important; }
  .header-right img.logo { height: 40px !important; }
  .header-right .divider { display: none !important; }	
  .header-right { flex-direction: row !important; align-items: center !important; gap: 2px !important; }
	
.header-info {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;  
  text-align: center !important;   
  gap: 6px !important;             
}
	
  .header-info .arabic-name,
  .header-info .english-name { white-space: nowrap; line-height: 1.2; font-size: 12px !important; }
	
  #chat-box {
    position: fixed; right: 20px; bottom: 90px;
    width: 360px; max-width: 90%; max-height: 85vh;
    display: none;
    flex-direction: column; overflow: hidden; z-index: 9999;
  }
  .footer-column { min-width: 0 !important; width: 100% !important; }
  .footer-column h3 { font-size: 16px !important; margin-bottom: 10px; }
  .footer-column a { font-size: 14px !important; }
  textarea { width: 100% !important; height: 120px !important; }
  button[type="submit"] { width: 100% !important; }
  header, footer { padding: 12px 16px !important; }

  header, footer {
    width: 100% !important;
    padding: 12px 16px !important;
  }

  .nav-links { gap: 12px !important; flex-wrap: wrap; }
  .nav-links a { font-size: 14px !important; }
	
header { 
  padding-inline: 16px !important;           
}

.header-right {
  gap: 8px !important;                        
  align-items: center !important;
}

.header-right img.logo {
  height: 40px !important;
  margin: 0 !important;
}

.header-right .divider {
  display: inline-block !important;
  height: 40px !important;
  margin-inline: 8px !important;           
}

.mobile-nav .menu-toggle {
  padding: 0 !important;
  width: 36px !important;
  height: 36px !important;
  display: grid !important;
  place-items: center !important;
  line-height: 1 !important;
  margin: 0 !important;
}
	
  .header-info {
    display: flex !important;
    flex-direction: column !important;
    gap: 6px !important;          
  }

  .header-info .arabic-name {
    font-size: 14px !important;
  }

  .header-info .english-name {
    font-size: 12px !important;
    color: #f4e733;
  }

  .nav-links {
    position: fixed;
    top: 0;
    right: -100%;
    width: 75%;
    height: 100vh;
    background: #000;
    border-left: 2px solid #f4e733;
    padding: 60px 20px 20px;
    flex-direction: column;
    gap: 15px;
    transition: right 0.3s ease;
    z-index: 1000;
  }

  .nav-links.show {
    right: 0;
  }

  .nav-links a {
    padding: 12px 0;
    font-size: 16px;
    border-bottom: 1px solid #222;
  }

  footer {
    padding: 20px 15px !important;
    width: 100% !important;
    flex-direction: column;
    gap: 20px;
  }

  .footer-column {
    width: 90%;
    min-width: auto;
  }

  .footer-column h3 {
    font-size: 16px !important;
    margin-bottom: 10px;
  }

  .footer-column a {
    font-size: 14px !important;
  }

  .social-icons {
    justify-content: flex-start;
    gap: 15px;
  }

  .footer-bottom {
    margin-top: 20px;
    padding-top: 15px;
    font-size: 12px;
  }

  textarea {
    height: 120px !important;
  }

  button[type="submit"] {
    width: 100% !important;
  }
  footer button[type="submit"] {
    background-color: #f4e733 !important;
    color: #000 !important;
  }

  #chat-box {
    width: 94% !important;
    right: 3% !important;
    height: 460px !important;
    max-height: 70vh !important;
  }

  .chat-body {
    max-height: 55vh !important;
  }

  @keyframes tooltip-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.03); }
  }

  @keyframes tooltip-fade {
    0%, 80% { opacity: 1; visibility: visible; }
    100% { opacity: 0; visibility: hidden; }
  }
	}	

@media (max-width: 768px) {
  .mobile-nav { display: block; }
  .menu-toggle { display: block; }
  .nav-links {
    display: none;
    flex-direction: column;
    background: rgba(0,0,0,0.95);
    position: absolute;
    top: var(--headerH, 72px);
    right: 0;
    width: 100%;
    padding: 20px;
  }
  .nav-links.show { display: flex; }
}

@media (max-width: 600px) {
  #chat-box .chat-header { display:flex !important; }
  #inner-input-bar.active { display:flex !important; }
  
  #chat-tooltip {
    font-size: 12px !important;
    padding: 8px 10px !important;
    right: 8px !important;
    bottom: 80px !important;
  }
  #chat-tooltip span:last-child {
    font-size: 14px !important;
  }
}

@media (max-width: 768px){
  .side-menu.top-nav{
    position: fixed;
    top: var(--headerH,72px);
    right: 0; left: 0;
    width: 100% !important;

    display: flex;
    flex-direction: row;
    flex-wrap: nowrap !important;
    gap: 10px;

    padding: 10px 8px;
    background: rgba(0,0,0,0.95);
    border: 0;
    border-bottom: 2px solid #f4e733;
    border-radius: 0 0 14px 14px;

    overflow-x: auto !important;
    overflow-y: hidden !important;
    -webkit-overflow-scrolling: touch;
    z-index: 1002;
  }

  .side-menu.top-nav a{
    flex: 0 0 auto;
    white-space: nowrap;
    min-width: max(110px, fit-content);
    padding: 10px 12px;
    border-bottom: none;
  }

  .side-menu .sm-indicator{ display: none !important; }
   body.with-top-nav {padding-top: 0 !important;}
}
#navLinks.show-inline {
  display: flex !important;
}

.info-container h2 { font-size: 22px; }

/* Use fluid typography: */
.info-container h2 { 
  font-size: clamp(1.125rem, 2.5vw, 1.375rem);
}

.info-container p, .info-container li { 
  font-size: clamp(0.875rem, 2vw, 1rem); 
  line-height: 1.7;
}

.header-right {
  display: flex;
  align-items: center;
  gap: clamp(5px, 2vw, 15px);
  flex: 1;
  min-width: 0;
}

.header-right img.logo {
  height: clamp(40px, 8vw, 70px);
  object-fit: contain;
}

.header-info .arabic-name {
  font-weight: bold;
  font-size: clamp(14px, 3vw, 18px);
  margin: 0;
}

.header-info .english-name {
  font-size: clamp(12px, 2.5vw, 16px);
  color: #f4e733;
  margin: 0;
}

.carousel-container {
  width: 88%;
  max-width: 1170px;
  margin: 40px auto;       
  position: relative;
  z-index: 1;
  height: clamp(300px, 50vh, 520px); /* Responsive height */
  background: #000;
  border: 2px solid #f4e733;
  border-radius: 16px;
  overflow: hidden;            
}

.org-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 20px;
  margin-bottom: 25px;
  position: relative;
  justify-content: center;
  width: 100%;
}

.side-menu {
  position: fixed;
  top: 50vh;
  transform: translateY(-50%);
  right: max(12px, 2vw);
  width: clamp(100px, 20vw, 120px);
  padding: clamp(10px, 2vw, 16px) clamp(10px, 2vw, 14px);
}

.side-menu a {
  padding: clamp(8px, 2vw, 12px) clamp(10px, 2vw, 14px);
  font-size: clamp(12px, 2vw, 14px);
}

.footer-column {
  flex: 1 1 clamp(250px, 30%, 400px);
  min-width: 0;
}

footer {
  padding: clamp(20px, 5vw, 30px) clamp(16px, 5%, 5%);
}

#chat-box {
  width: min(360px, 90vw);
  max-width: 90%;
}

#chat-tooltip {
  max-width: min(260px, 80vw);
}

@media (max-width: 400px) {
  .header-info {
    display: none !important;
  }
  
  .org-item {
    min-width: 160px;
    padding: 12px;
  }
  
  .footer-column {
    flex-basis: 100%;
  }
}

img {
  max-width: 100%;
  height: auto;
}

@media (hover: none) and (pointer: coarse) {
  .nav-links a, 
  .side-menu a, 
  .chat-btn {
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  input, textarea, select {
    font-size: 16px;
  }
}


  </style>
</head>
<body>
<header>
  <div class="mobile-nav">
    <button class="menu-toggle" onclick="toggleMenu()">☰</button>
  </div>
  
  <div class="header-right">
    <img src="Picture3.png" alt="شعار الشارقة" class="logo">
    <div class="divider"></div>
    <img src="logo.png" alt="شعار نادي كلباء" class="logo">
    <div class="header-info">
      <div class="arabic-name">نادي كلباء الرياضي الثقافي</div>
      <div class="english-name">KALBA SPORTS & CULTURAL CLUB</div>
    </div>
  </div>
  
  <nav class="nav-links" id="navLinks">
    <a href="#home" onclick="showSection('home')">الرئيسية</a>
    <a href="news.html">الأخبار</a>
    <a href="sports.html">الألعاب الرياضية</a>
    <a href="register.html">التسجيل</a>
    <a href="evaluate.html">بوابة المدربين</a>
    <a href="contact.html">اتصل بنا</a>
  </nav>
</header>

<div id="sideMenu" class="side-menu">
  <a href="javascript:void(0)" onclick="showSection('history')">لمحة تاريخية</a>
  <a href="javascript:void(0)" onclick="showSection('president')">رئيس النادي</a>
  <a href="javascript:void(0)" onclick="showSection('vice')">نائب الرئيس</a>
  <a href="javascript:void(0)" onclick="showSection('board')">مجلس الإدارة</a>
  <a href="javascript:void(0)" onclick="showSection('orgstructure')">الهيكل التنظيمي</a>	
</div>
  
<div class="hero-wrapper">    
  <section id="home" class="hero-carousel">
    <div class="carousel-container">
      <div class="carousel-slide fade" style="position: relative;">
        <img src="KSC.jpg" alt="عطلتنا غير">
        <div class="caption">
          تجاوز عدد المشاركين 250 <br>
          بعد تنفيذ 300 تدريب..نادي كلباء يكتشف 50 موهبة رياضية ضمن عطلتنا غير<br> 
          01 أغسطس 2025 <br> 
        </div>
      </div>
      <div class="carousel-slide fade" style="position: relative;">
        <img src="KSC1.jpg" alt="عطلتنا غير">
        <div class="caption">
          تحت شعار "عطلتنا غير" <br>
          250 موهوباً يثرون برنامج "صيف الشارقة الرياضي" في نادي كلباء <br>
          22 يوليو 2025  <br>
        </div>
      </div>

      <a class="prev" onclick="plusSlides(-1)">&#10095;</a>
      <a class="next" onclick="plusSlides(1)">&#10094;</a>
    </div>
  </section>
	
<section id="history" class="section">
  <div class="info-container">
    <h2>لمحة تاريخية</h2>
    <p>
      تأسس نادي كلباء الرياضي الثقافي كأحد الصروح الرياضية والثقافية في إمارة الشارقة،
      ليكون مركزًا لتنمية المواهب وصقل المهارات الرياضية والثقافية لأبناء المنطقة الشرقية.
    </p>
  </div>
</section>

<section id="president" class="section">
  <div class="info-container">
    <h2>رئيس النادي</h2>
    <p>
      كلمة رئيس النادي: نسعى في نادي كلباء الرياضي الثقافي إلى تعزيز القيم الرياضية والثقافية،
      وتوفير بيئة مثالية لدعم اللاعبين والمنتسبين نحو التميز والإبداع.
    </p>
  </div>
</section>

<section id="vice" class="section">
  <div class="info-container">
    <h2>نائب رئيس النادي</h2>
    <p>
      يساهم نائب رئيس النادي في دعم الخطط الاستراتيجية والإشراف على سير الأنشطة لضمان
      استمرار التقدم وتحقيق الأهداف المنشودة.
    </p>
  </div>
</section>

<section id="board" class="section">
  <div class="info-container">
    <h2>مجلس الإدارة</h2>
    <ul style="list-style:none; padding:0; margin:0;">
      <li>✔️ رئيس مجلس الإدارة</li>
      <li>✔️ نائب الرئيس</li>
      <li>✔️ عضو مجلس الإدارة</li>
      <li>✔️ عضو مجلس الإدارة</li>
    </ul>
  </div>
</section>

<section id="orgstructure" class="section">
  <div class="info-container">
    <h2>الهيكل التنظيمي</h2>
    
    <div class="org-structure">

	  <div class="org-level">
        <h3 class="org-title">رئيس مجلس الإدارة</h3>
        <div class="org-row">
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            <div class="org-connector-line connector-vertical"></div>
            مكتب الرئيس
          </div>
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            <div class="org-connector-line connector-vertical"></div>
            مكتب التدقيق الداخلي
          </div>
        </div>
      </div>
      
      <div class="org-level">
        <div class="org-connector-line connector-horizontal"></div>
        <h3 class="org-title">مجلس الإدارة</h3>
        <div class="org-row">
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            إدارة الاتصال الحكومي
          </div>
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            مكتب الشؤون القانونية
          </div>
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            مستشارون
          </div>
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            المدير العام
          </div>
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            مكتب الأداء العام
          </div>
        </div>
      </div>
      
      <div class="org-level">
        <div class="org-connector-line connector-horizontal"></div>
        <h3 class="org-title">المدير العام</h3>
        <div class="org-row">
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            مكتب المدير العام
          </div>
        </div>
        
        <div class="org-row">
          <div class="org-item">
            إدارة النتائج المالية
          </div>
          <div class="org-item">
            إدارة الإدارة
          </div>
        </div>
      </div>
      
      <div class="org-level">
        <div class="org-connector-line connector-horizontal"></div>
        <h3 class="org-title">القطاعات</h3>
        <div class="org-row">
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            قطاع الخدمات المساندة
          </div>
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            قطاع الخدمات الإعلامية
          </div>
          <div class="org-item">
            <div class="connector-arrow">↓</div>
            المشاريع
          </div>
        </div>
      </div>
      
      <div class="org-level">
        <div class="org-connector-line connector-horizontal"></div>
        <h3 class="org-title">قطاع الخدمات المساندة</h3>
        <div class="org-row">
          <div class="org-item">
            إدارة الموارد البشرية والخدمات الإدارية
          </div>
          <div class="org-item">
            إدارة المالية والمشتريات
          </div>
          <div class="org-item">
            إدارة تقنية المعلومات والأمن السيبراني
          </div>
        </div>
      </div>
      
      <div class="org-level">
        <div class="org-connector-line connector-horizontal"></div>
        <h3 class="org-title">قطاع الخدمات الإعلامية</h3>
        <div class="org-row">
          <div class="org-item">
            إدارة الإنتاج الإعلامي
          </div>
          <div class="org-item">
            إدارة الرصد وخدمات المحتوى
          </div>
          <div class="org-item">
            إدارة المتابعة والتفتيش
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
</div>	
	
<script>
(function () {
  const nav = document.getElementById('navLinks');
  const btn = document.querySelector('.menu-toggle');
  const sideMenu = document.getElementById('sideMenu');
  if (!nav || !btn) return;

  function setOpen(open){
    nav.classList.toggle('show', open);
    document.body.classList.toggle('no-scroll', open);
    btn.innerHTML = open ? '✕' : '☰';
    btn.setAttribute('aria-expanded', open ? 'true' : 'false');

    if (sideMenu){
      if (open){
        sideMenu.dataset.prevDisplay = sideMenu.style.display || '';
        sideMenu.style.display = 'none';
      } else {
        sideMenu.style.display = sideMenu.dataset.prevDisplay || '';
      }
    }
  }

  const isOpen = () => nav.classList.contains('show');

  window.toggleMenu = () => setOpen(!isOpen());

  document.addEventListener('click', (e)=>{
    if (!isOpen()) return;
    if (!nav.contains(e.target) && !btn.contains(e.target)) setOpen(false);
  });

  nav.addEventListener('click', (e)=>{
    if (e.target.closest('a') && window.innerWidth < 769) setOpen(false);
  });

  window.addEventListener('resize', ()=>{
    if (window.innerWidth >= 769) setOpen(false); // restores sideMenu for desktop
  });
})();

function updateHeaderHeight() {
  const header = document.querySelector('header');
  if (!header) return;
  const headerHeight = header.offsetHeight;
  document.documentElement.style.setProperty('--headerH', `${headerHeight}px`);
}
window.addEventListener('load', updateHeaderHeight);
window.addEventListener('resize', updateHeaderHeight);


(function(){
  let tooltipDismissed = false;

  function dismissTooltip(){
    const tooltip = document.getElementById('chat-tooltip');
    if (tooltip){
      tooltip.style.display = 'none';
      tooltipDismissed = true;
    }
  }
  window.dismissTooltip = dismissTooltip;

  window.toggleChat = function(){
    const chatBox  = document.getElementById('chat-box');
    const badge    = document.getElementById('chat-badge');
    const tooltip  = document.getElementById('chat-tooltip');
    if (!chatBox) return;

    if (typeof dismissTooltip === 'function') dismissTooltip();

    const alreadyStarted = !!chatBox.querySelector('.message-wrapper');
    const isHidden = getComputedStyle(chatBox).display === 'none';

    if (isHidden){
      chatBox.style.display = 'flex';
      chatBox.classList.add('open');
      if (badge)   badge.style.display = 'none';
      if (tooltip) tooltip.style.display = 'none';
      requestAnimationFrame(()=>{
        chatBox.style.opacity   = '1';
        chatBox.style.transform = 'translateY(0)';
      });
      if (typeof startChat === 'function' && !alreadyStarted) startChat();
    } else {
      chatBox.style.opacity   = '0';
      chatBox.style.transform = 'translateY(30px)';
      setTimeout(()=>{
        chatBox.classList.remove('open');
        chatBox.style.display = 'none';
        if (badge) badge.style.display = 'flex';
      }, 500);
    }
  };

  document.addEventListener('DOMContentLoaded', ()=>{
    const tooltipCloseBtn = document.querySelector('#chat-tooltip span:last-child');
    if (tooltipCloseBtn) tooltipCloseBtn.addEventListener('click', dismissTooltip);

    const chatInput = document.getElementById('userMessage');
    if (chatInput){
      chatInput.addEventListener('focus', function(){ this.style.pointerEvents = 'auto'; });
    }
  });
})();

(function(){
  const sideMenu = document.getElementById('sideMenu');
  const header   = document.querySelector('header');
  if (!sideMenu) return;

  function setHeaderH(){
    const h = header ? Math.ceil(header.getBoundingClientRect().height) : 72;
    document.documentElement.style.setProperty('--headerH', h + 'px');
  }
  const isMobile = ()=> window.innerWidth <= 768;

  function applyMode(){
    const scrolled     = (window.pageYOffset || document.documentElement.scrollTop) > 200;
    const shouldTopNav = isMobile() || scrolled;

    if (shouldTopNav){
      sideMenu.classList.add('top-nav');
      document.body.classList.add('with-top-nav');

      requestAnimationFrame(()=>{
        const h = Math.ceil(sideMenu.getBoundingClientRect().height || 56);
        document.documentElement.style.setProperty('--topNavH', h + 'px');
        sideMenu.classList.add('visible');
      });
    } else {
      sideMenu.classList.remove('visible', 'top-nav');
      document.body.classList.remove('with-top-nav');
      document.documentElement.style.removeProperty('--topNavH');
    }
  }

  window.addEventListener('load',  ()=>{ setHeaderH(); applyMode(); });
  window.addEventListener('resize',()=>{ setHeaderH(); applyMode(); });
  window.addEventListener('scroll', applyMode, { passive:true });

  const indicator = document.createElement('span');
  indicator.className = 'sm-indicator';
  sideMenu.appendChild(indicator);

  function moveIndicatorTo(link){
    const r  = link.getBoundingClientRect();
    const mr = sideMenu.getBoundingClientRect();
    indicator.style.top    = (r.top - mr.top + (r.height - 40)/2) + 'px';
    indicator.style.height = Math.min(44, r.height) + 'px';
  }
  window.moveIndicatorTo = moveIndicatorTo;

  document.querySelectorAll('#sideMenu a').forEach((el,i)=> el.style.setProperty('--i', i));

  sideMenu.addEventListener('pointermove', (e)=>{
    const t = e.target.closest('a'); if(!t) return;
    const r = t.getBoundingClientRect();
    t.style.setProperty('--mx', (e.clientX - r.left) + 'px');
    t.style.setProperty('--my', (e.clientY - r.top)  + 'px');
  });

  const sections = ['history','president','vice','board','orgstructure']
    .map(id => document.getElementById(id)).filter(Boolean);

  const obs = new IntersectionObserver((entries)=>{
    const visible = entries.filter(e=>e.isIntersecting)
                           .sort((a,b)=>b.intersectionRatio-a.intersectionRatio)[0];
    if(!visible) return;
    const id = visible.target.id;
    const link = Array.from(sideMenu.querySelectorAll('a'))
      .find(a => a.onclick?.toString().includes(id));
    if(link){
      sideMenu.querySelectorAll('a').forEach(a=>a.classList.remove('active'));
      link.classList.add('active');
      moveIndicatorTo(link);
    }
  },{ rootMargin:"-20% 0px -60% 0px", threshold:[0.2,0.4,0.6,0.8] });

  sections.forEach(sec => obs.observe(sec));

  window.addEventListener('load', ()=>{
    const first = sideMenu.querySelector('a');
    if(first){ first.classList.add('active'); moveIndicatorTo(first); }
  });
  window.addEventListener('resize', ()=>{
    const active = sideMenu.querySelector('a.active') || sideMenu.querySelector('a');
    if(active) moveIndicatorTo(active);
  });
})();

(function(){
  const sideMenu = document.getElementById('sideMenu');
  if (!sideMenu) return;

  function centerActiveTab(link){
    try{
      link.scrollIntoView({ behavior:'smooth', inline:'center', block:'nearest' });
    }catch(e){}
  }

  function updateAria(){
    sideMenu.querySelectorAll('a').forEach(a=>{
      a.setAttribute('role','tab');
      a.setAttribute('aria-selected', a.classList.contains('active') ? 'true' : 'false');
    });
    sideMenu.setAttribute('role','tablist');
    sideMenu.setAttribute('aria-label','روابط داخل الصفحة');
  }

  const origMove = window.moveIndicatorTo;
  window.moveIndicatorTo = function(link){
    if (typeof origMove === 'function') origMove(link);
    centerActiveTab(link);
    updateAria();
  };

  sideMenu.addEventListener('click', (e)=>{
    const a = e.target.closest('a'); if(!a) return;
    setTimeout(()=>{ centerActiveTab(a); updateAria(); }, 50);
  });

  window.addEventListener('load', updateAria);
})();

window.showSection = function(sectionId){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  if (sectionId && sectionId !== '#'){
    const t = document.getElementById(sectionId);
    if (t){
      t.classList.add('active');
      setTimeout(()=> t.scrollIntoView({behavior:'smooth'}), 100);
    }
  }
  const sideMenu = document.getElementById('sideMenu');
  if (sideMenu){
    sideMenu.querySelectorAll('a').forEach(link=>{
      link.classList.remove('active');
      if (sectionId && link.onclick && link.onclick.toString().includes(sectionId)){
        link.classList.add('active');
      }
    });
  }
};

(function(){
  const el = document.getElementById('sideMenu');
  if (!el) return;

  el.addEventListener('wheel', (e)=>{
    if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
      el.scrollLeft += e.deltaY;
      e.preventDefault();
    }
  }, { passive:false });

  let isDown = false, startX = 0, startLeft = 0;
  el.addEventListener('mousedown', (e)=>{
    isDown = true; startX = e.pageX; startLeft = el.scrollLeft; el.classList.add('grabbing');
  });
  window.addEventListener('mouseup', ()=>{ isDown = false; el.classList.remove('grabbing'); });
  window.addEventListener('mousemove', (e)=>{
    if (!isDown) return;
    const dx = e.pageX - startX;
    el.scrollLeft = startLeft - dx;
  });
})();


(function(){
  const menu  = document.getElementById('sideMenu');
  if (!menu) return;

  const links = Array.from(menu.querySelectorAll('a[role="tab"]'));
  let indicator = menu.querySelector('.sm-indicator');
  if (!indicator) {
    indicator = document.createElement('span');
    indicator.className = 'sm-indicator';
    menu.appendChild(indicator);
  }

  function moveIndicator() {
    const active = menu.querySelector('a.active') || links.find(a => a.getAttribute('aria-selected') === 'true') || links[0];
    if (!active) return;

    const cs = getComputedStyle(menu);
    const padLeft = parseFloat(cs.paddingLeft) || 0;

    const x = active.offsetLeft - padLeft;
    const w = active.offsetWidth;

    indicator.style.width = w + 'px';
    indicator.style.transform = `translateX(${x}px)`;
  }

  function setActive(el) {
    links.forEach(a => {
      const on = a === el;
      a.classList.toggle('active', on);
      a.setAttribute('aria-selected', on ? 'true' : 'false');
    });
    moveIndicator();
  }

  links.forEach(a => {
    a.addEventListener('click', () => setActive(a));
  });

  menu.addEventListener('scroll', moveIndicator, { passive: true });
  window.addEventListener('resize', moveIndicator);
  requestAnimationFrame(moveIndicator);
})();

function checkMobileView() {
  const isMobile = window.innerWidth <= 768;
  const btn = document.querySelector('button[onclick="toggleHiddenColumns()"]');
  if (btn) {
    btn.style.display = isMobile ? 'none' : 'inline-block';
  }
}
window.addEventListener('load', checkMobileView);
window.addEventListener('resize', checkMobileView);

function checkView() {
  const navLinks = document.getElementById('navLinks');
  const toggleBtn = document.querySelector('.menu-toggle');
  if (!navLinks || !toggleBtn) return;

  const isDesktop = window.innerWidth > 1200;

  if (isDesktop) {
    navLinks.classList.add('show-inline');
    toggleBtn.style.display = 'none';
  } else {
    navLinks.classList.remove('show-inline');
    toggleBtn.style.display = 'block';
  }
}

window.addEventListener('load', checkView);
window.addEventListener('resize', checkView);

</script>

<script>
let slideIndex = 0;
function showSlides() {
  const slides = document.getElementsByClassName("carousel-slide");
  const len = slides.length;
  if (len === 0) return;
  if (slideIndex >= len) slideIndex = 0;
  if (slideIndex < 0)    slideIndex = len - 1;

  for (let i = 0; i < len; i++) slides[i].style.display = "none";
  slides[slideIndex].style.display = "block";
}
function plusSlides(n) { slideIndex += n; showSlides(); }

document.addEventListener('DOMContentLoaded', () => {
  showSlides();
  setInterval(() => { slideIndex++; showSlides(); }, 5000);
});
</script>

<div id="chat-box">
  <div class="chat-header">
<span onclick="toggleChat()">✕</span>
  </div>

  <div class="chat-body" id="chat-body">
  </div>

  <div class="chat-footer" id="inner-input-bar" style="display: none;">
    <input id="userMessage" type="text" placeholder="اكتب شيئًا...">
    <button onclick="submitUserMessage()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="20" height="20">
        <path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
      </svg>
    </button>
  </div>
</div>

<div id="chat-wrapper" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 10px;
">

<div id="chat-tooltip" style="
  background: white;
  color: black;
  padding: 10px 14px;
  border-radius: 14px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  font-weight: bold;
  font-size: 14px;
  max-width: 260px;
  direction: rtl;
  text-align: right;
  position: absolute;
  bottom: 80px;
  right: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  z-index: 9999;
  line-height: 1.4;
  white-space: nowrap;  
">
  <span>مرحباً بك في نادي كلباء الرياضي الثقافي</span>
  <span onclick="dismissTooltip()" style="cursor:pointer; font-weight:bold; color: red; line-height: 1; ">✕</span>
</div>

  <button id="chat-toggle" onclick="toggleChat()" style="
    position: relative;
    background-color: transparent;
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    cursor: pointer;
    padding: 0;
  ">
    <img src="logo.png" alt="Chat Logo" style="width: 100%; height: 100%; border-radius: 50%;">
    <span id="chat-badge" style="
      position: absolute;
      top: -5px;
      left: -5px;
      background: red;
      color: white;
      font-size: 12px;
      font-weight: bold;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    ">1</span>
  </button>
</div>

<script>
let userName = '';
  
function showMainButtons() {
  const buttonsWrapper = document.createElement("div");
  buttonsWrapper.className = "button-container";

  const buttons = [
    { label: "مواعيد التدريبات", action: () => reply('training') },
    { label: "التسجيل في النادي", action: () => reply('register') },
    { label: "معلومات عن الرياضات", action: () => reply('teams') },
    { label: "تواصل معنا", action: () => showContactMain() },
    { label: "🔁 إعادة المحادثة", action: () => startChat() },
  ];

  buttons.forEach(btn => {
    const el = document.createElement("button");
    el.className = "chat-btn";
    el.innerText = btn.label;
    el.onclick = btn.action;
    buttonsWrapper.appendChild(el);
  });

  const wrapper = document.createElement("div");
  wrapper.className = 'message-wrapper bot';

  const avatar = document.createElement("div");
  avatar.className = 'avatar';
  avatar.style.backgroundImage = "url('bot-icon.png')";

  const bubble = document.createElement("div");
  bubble.className = 'content';
  bubble.appendChild(buttonsWrapper);

  wrapper.appendChild(avatar);
  wrapper.appendChild(bubble);

  const chatBody = document.getElementById("chat-body");
  chatBody.appendChild(wrapper);
  wrapper.scrollIntoView({ behavior: "smooth" });
}

function addMessage(content, isUser = false) {
  const chatBody = document.getElementById('chat-body');
  if (!chatBody) {
    console.warn("chat-body not found when adding message.");
    return;
  }

  const wrapper = document.createElement('div');
  wrapper.className = 'message-wrapper ' + (isUser ? 'user' : 'bot');

  const avatar = document.createElement('div');
  avatar.className = 'avatar';
  avatar.style.backgroundImage = `url('${isUser ? 'user-icon.png' : 'bot-icon.png'}')`;

  const bubble = document.createElement('div');
  bubble.className = 'content';
  bubble.innerHTML = content;

  wrapper.appendChild(avatar);
  wrapper.appendChild(bubble);
  chatBody.appendChild(wrapper);

  setTimeout(() => {
    chatBody.scrollTop = chatBody.scrollHeight;
  }, 100);
}

function clearChat() {
  const chatBody = document.getElementById('chat-body');
  if (chatBody) chatBody.innerHTML = ''; 

  const buttons = document.getElementById("main-buttons");
  const inputBar = document.getElementById("inner-input-bar");
     if (inputBar) {
          inputBar.classList.remove("active");   
          inputBar.style.display = "none";       
       }
  if (buttons) buttons.style.display = "none";
  if (inputBar) inputBar.style.display = "none";
}

function startChat(retries = 0) {
  const chatBody = document.getElementById("chat-body");

  if (!chatBody) {
    if (retries < 10) {
      console.warn("⏳ Waiting for chat-body... Retry:", retries + 1);
      return setTimeout(() => startChat(retries + 1), 150);
    } else {
      console.error("❌ chat-body not found after retries.");
      return;
    }
  }

  clearChat();

  addMessage("مرحباً بك في نادي كلباء الرياضي الثقافي! 👋 ما اسمك؟", false);

  const inputDiv = document.createElement("div");
  inputDiv.id = "nameInputWrapper";
  inputDiv.style.marginTop = "10px";
inputDiv.innerHTML = `
  <div style="display: flex; gap: 10px; align-items: center; margin-top: 10px;">
    <input id="nameInput" type="text" placeholder="اكتب اسمك هنا..." 
           style="padding:10px; font-size:16px; flex: 1; border-radius:5px; border:1px solid #ccc;">
    <button onclick="submitName()" 
            style="padding:10px 15px; background:#f4e733; font-weight:bold; border:none; border-radius:5px;">
      إرسال
    </button>
  </div>
`;
  chatBody.appendChild(inputDiv);
}

 function submitName() {
  const input = document.getElementById("nameInput");

  const name = input.value.trim();

  if (name) {
  addMessage(`${name}`, true);
  userName = name;
  document.getElementById("nameInputWrapper").remove();
  
  setTimeout(() => {
    addMessage(`مرحباً بك ${name}، كيف يمكننا مساعدتك؟`, false);
    showMainButtons();
    const inputBar = document.getElementById("inner-input-bar");
  if (inputBar) {
         inputBar.classList.add("active");   
	     inputBar.style.display = "flex";
	  }}, 500);
    }
 }
  
function submitUserMessage() {
    const input = document.getElementById("userMessage");
    const msg = input.value.trim();
    if (msg) {
      addMessage(msg, true);


    fetch('https://script.google.com/macros/s/AKfycbxTb9_7bVSNPqkErv5NFNpMk55MdVkzfdMxrRGSaeIeKl-Shv3WP82UybUX8IEzPVGw/exec', {
  method: 'POST',
  mode: 'no-cors',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ name: userName, message: msg })
})

.finally(() => {
  addMessage("شكراً على تواصلك، سيتم الرد عليك في أقرب وقت.", false);
    setTimeout(() => {
      const html = `
        <p style="font-weight:bold; text-align:right; margin: 0 0 10px;">هل يمكنني مساعدتك في شيء آخر؟</p>
        <div style="display: flex; justify-content: center; margin: 0 0 10px;">
          <button type="button" class="chat-btn" onclick="showMainButtons()">عرض الخيارات</button>
        </div>
         <p style="text-align:right; margin: 0 0 10px;">كما يمكنك مشاركة أرائك أو أقتراحاتك أو كتابة استفسارك مع معلومات التواصل، وسيتم الرد عليك في أقرب وقت.</p>
      `;
      addMessage(html, false);
    }, 1000);	
    });
input.value = '';

    }
  }
  
 function handleTeamOption(type) {
 
  const lastWrappers = document.querySelectorAll('.message-wrapper.bot');
  const last = lastWrappers[lastWrappers.length - 1];
  if (last) last.remove();

  addMessage(type === 'individual' ? "🎯 الألعاب الفردية" : "🏃‍♂️ الألعاب الجماعية", true);

  const sportsList = (type === "individual") ? [
    { name: "الشطرنج", info: "رياضة ذهنية تساعد على التركيز والتخطيط." },
    { name: "الجودو", info: "فن قتالي ياباني يعتمد على التوازن والرمي." },
    { name: "الكاراتيه", info: "فن قتالي يركز على الضربات واللياقة." },
    { name: "التايكوندو", info: "رياضة كورية تعتمد على الركلات العالية." },
    { name: "الدراجات", info: "رياضة تعتمد على التحمل والسرعة." },
    { name: "ألعاب القوى", info: "تضم الجري، الرمي، الوثب، والمشي." },
    { name: "الخماسي الحديث", info: "تشمل السباحة، الرماية، الفروسية، الجري، والمبارزة." },
    { name: "الريشة الطائرة", info: "رياضة سريعة تتطلب رد فعل سريع ومهارة." }
  ] : [
    { name: "كرة الطائرة", info: "لعبة جماعية تعتمد على التمريرات والضربات الساحقة." },
    { name: "كرة السلة", info: "رياضة تتطلب دقة تصويب وسرعة حركة." },
    { name: "كرة اليد", info: "رياضة جماعية تتميز بالسرعة والتعاون." },
    { name: "كرة قدم الصالات", info: "نسخة داخلية من كرة القدم تُلعب في صالات مغلقة." }
  ];


  const wrapper = document.createElement("div");
  wrapper.className = 'message-wrapper bot';

  const avatar = document.createElement("div");
  avatar.className = 'avatar';
  avatar.style.backgroundImage = "url('bot-icon.png')";

  const bubble = document.createElement("div");
  bubble.className = 'content';

  const buttonsWrapper = document.createElement("div");
  buttonsWrapper.className = "button-container";  
  buttonsWrapper.style.marginTop = "10px";

  sportsList.forEach(sport => {
    const btn = document.createElement("button");
    btn.className = "chat-btn";
    btn.innerText = sport.name;
    btn.onclick = () => {
      addMessage(sport.name, true);
      addMessage(sport.info, false);
      setTimeout(() => {
    const html = `
  <p style="font-weight:bold; text-align:right; margin: 0 0 10px;">هل يمكنني مساعدتك في شيء آخر؟</p>
  <div style="display: flex; justify-content: center; margin: 0 0 10px;">
    <button class="chat-btn" onclick="showMainButtons()">عرض الخيارات</button>
  </div>
   <p style="text-align:right; margin: 0 0 10px;">كما يمكنك مشاركة أرائك أو أقتراحاتك أو كتابة استفسارك مع معلومات التواصل، وسيتم الرد عليك في أقرب وقت.</p>
`;
    addMessage(html, false);
  }, 1000);   
};
    buttonsWrapper.appendChild(btn);
  });

  bubble.appendChild(buttonsWrapper);
  wrapper.appendChild(avatar);
  wrapper.appendChild(bubble);

  const chatBox = document.getElementById("chat-body");
  chatBox.appendChild(wrapper);
  wrapper.scrollIntoView({ behavior: "smooth" });
}

  function dismissTooltip() {
    const tooltip = document.getElementById('chat-tooltip');
    if (tooltip) {
      tooltip.style.display = 'none';
      tooltipDismissed = true;
    }
  }
  
  document.addEventListener('DOMContentLoaded', function() {
    const tooltipCloseBtn = document.querySelector('#chat-tooltip span:last-child');
    if (tooltipCloseBtn) {
      tooltipCloseBtn.addEventListener('click', dismissTooltip);
    }
    const chatInput = document.getElementById('userMessage');
    if (chatInput) {
      chatInput.addEventListener('focus', function() {
        this.style.pointerEvents = 'auto';
      });
    }
  });
	
  function reply(option) {

    let userText = '';
    if (option === 'training') userText = 'مواعيد التدريبات';
    else if (option === 'register') userText = 'التسجيل في النادي';
    else if (option === 'teams') userText = 'معلومات عن الرياضات';

    addMessage(userText, true); 
    addMessage(`<span class="typing-dots"><span>.</span><span>.</span><span>.</span></span>`, false);

    setTimeout(() => {
const typingDots = document.querySelector('.typing-dots');
if (typingDots) {
  const bubble = typingDots.closest('.message-wrapper');
  if (bubble) bubble.remove();
}

      if (option === 'teams') {
const html = `
  <p style="font-weight: bold; text-align: center;">اختر نوع الرياضة:</p>
  <div style="display: flex; flex-direction: column; align-items: center; gap: 10px; margin-top: 10px;">
    <button class="chat-btn" onclick="handleTeamOption('individual')">🎯 الألعاب الفردية</button>
    <button class="chat-btn" onclick="handleTeamOption('group')">🏃‍♂️ الألعاب الجماعية</button>
  </div>
`;
  addMessage(html, false);
}
 else if (option === 'training') {
        addMessage("تُقام التدريبات من يوم السبت إلى الخميس من الساعة 5 مساءً وحتى الساعة 8 مساءً.", false);
      } else if (option === 'register') {
        addMessage("للتسجيل، يرجى التواصل مع إداري اللعبة المعنية من خلال الأرقام التالية:", false);
      }

           if (option !== 'teams') {
        setTimeout(() => {
  const html =` 
    <p style="font-weight:bold; text-align:right; margin: 0 0 10px;">هل يمكنني مساعدتك في شيء آخر؟</p>
    <div style="display: flex; justify-content: center; margin: 0 0 10px;">
      <button class="chat-btn" onclick="showMainButtons()">عرض الخيارات</button>
    </div>
    <p style="text-align:right; margin: 0 0 10px;">كما يمكنك مشاركة أرائك أو أقتراحاتك أو كتابة استفسارك مع معلومات التواصل، وسيتم الرد عليك في أقرب وقت.</p>
  `;
  addMessage(html, false);
}, 1000);

      }

    }, 1000);
  } 

function showContactMain() {
  addMessage("تواصل معنا", true);
  addMessage(`<span class="typing-dots"><span>.</span><span>.</span><span>.</span></span>`, false);

  setTimeout(() => {
    const typingDots = document.querySelector('.typing-dots');
    if (typingDots) {
      const bubble = typingDots.closest('.message-wrapper');
      if (bubble) bubble.remove();
    }

    addMessage(`
      يمكنك التواصل معنا عبر البريد الإلكتروني: 
      <a href="mailto:info@ksc.shj.ae" style="color:blue;">info@ksc.shj.ae</a><br><br>
      أو استخدام أي من وسائل التواصل الاجتماعي التالية:
      <div style="margin-top: 15px; text-align: center;">
        <!-- social icons -->
      </div>
      <br>
      <p style="font-size: 16px; font-weight: bold; margin-bottom: 10px;">
        إذا كنت بحاجة إلى مساعدة مباشرة، يمكنك التواصل مع السكرتير:
      </p>
      <button onclick="showContactOptions()" 
        style="margin-top:5px; padding:16px 28px; font-size:18px; background:#f4e733; border:none; border-radius:8px; font-weight:bold; cursor:pointer;">
        تواصل مع السكرتير
      </button>
    `, false);

    setTimeout(() => {
      const html = `
        <p style="font-weight:bold; text-align:right; margin: 0 0 10px;">هل يمكنني مساعدتك في شيء آخر؟</p>
        <div style="display: flex; justify-content: center; margin: 0 0 10px;">
          <button class="chat-btn" onclick="showMainButtons()">عرض الخيارات</button>
        </div>
         <p style="text-align:right; margin: 0 0 10px;">كما يمكنك مشاركة أرائك أو أقتراحاتك أو كتابة استفسارك مع معلومات التواصل، وسيتم الرد عليك في أقرب وقت.</p>
      `;
      addMessage(html, false);
    }, 1000);
  }, 1000);
}

function showContactOptions() {
  addMessage("تواصل مع السكرتير", true);
  addMessage(`<span class="typing-dots"><span>.</span><span>.</span><span>.</span></span>`, false);

  setTimeout(() => {
    const typingDots = document.querySelector('.typing-dots');
    if (typingDots) {
      const bubble = typingDots.closest('.message-wrapper');
      if (bubble) bubble.remove();
    }

    addMessage(`يرجى زيارة بطاقة السكرتير عبر 
      <a href="https://kalbasc.github.io/sameh/Business%20E-Card.html" target="_blank" style="color:blue;">هذا الرابط</a>.`, false);

    setTimeout(() => {
      const html = `
        <p style="font-weight:bold; text-align:right; margin: 0 0 10px;">هل يمكنني مساعدتك في شيء آخر؟</p>
        <div style="display: flex; justify-content: center; margin: 0 0 10px;">
          <button class="chat-btn" onclick="showMainButtons()">عرض الخيارات</button>
        </div>
         <p style="text-align:right; margin: 0 0 10px;">كما يمكنك مشاركة أرائك أو أقتراحاتك أو كتابة استفسارك مع معلومات التواصل، وسيتم الرد عليك في أقرب وقت.</p>
      `;
      addMessage(html, false);
    }, 1000);
  }, 1000);
}
	
document.addEventListener("keydown", function (e) {
  const nameInput = document.getElementById("nameInput");
  if (nameInput && document.activeElement === nameInput && e.key === "Enter") {
    submitName();
  }
});

document.addEventListener("keydown", function (e) {
  const msgInput = document.getElementById("userMessage");
  if (msgInput && document.activeElement === msgInput && e.key === "Enter") {
    submitUserMessage();
  }
});

window.addEventListener('DOMContentLoaded', () => {
  startChat();
});

</script>
</div>
	
<footer>
  <div class="footer-column">
    <h3 style="color: #f4e733; font-size: 14px;">تواصل معنا</strong></h3>
    <p><a href="mailto:info@ksc.shj.ae" style="color: #FFFFFF; font-size: 12px;">info@ksc.shj.ae</a></p>
    <p><a href="tel:+971092777873" style="color: #FFFFFF; font-size: 12px;">092777873</a></p>
  </div>
	
  <div class="footer-column">
    <h3 style="color: #f4e733; font-size: 14px;">روابط سريعة</strong></h3>
    <a href="index.html" style="color: #FFFFFF; font-size: 12px;">الرئيسية</a>
    <a href="news.html" style="color: #FFFFFF; font-size: 12px;">الأخبار</a>
    <a href="sports.html" style="color: #FFFFFF; font-size: 12px;">الألعاب الرياضية</a>
    <a href="evaluate.html" style="color: #FFFFFF; font-size: 12px;">بوابة المدربين</a>
    <a href="register.html" style="color: #FFFFFF; font-size: 12px;">التسجيل</a>
    <a href="contact.html" style="color: #FFFFFF; font-size: 12px;">اتصل بنا</a>
  </div>

  <div class="footer-column">
    <h3 style="color: #f4e733; font-size: 14px;">تابعنا</strong></h3>
    <div class="social-icons">
      <a href="https://www.facebook.com/Kalbasc1" target="_blank"><i class="fab fa-facebook-f"></i></a>
      <a href="https://www.instagram.com/kalbasc/" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://x.com/Kalba_sc?mx=2" target="_blank"><i class="fab fa-twitter"></i></a>
      <a href="https://www.youtube.com/@kalbasc" target="_blank"><i class="fab fa-youtube"></i></a>
      <a href="https://www.tiktok.com/@kalbasc" target="_blank"><i class="fab fa-tiktok"></i></a>
    </div>

	    <div>
    <h3 style="color: #f4e733; font-size: 14px;">أرسل ملاحظاتك أو اقتراحاتك</strong></h3>
<form action="https://script.google.com/macros/s/AKfycbzj46wOU-WNhW2K8YkP23tygl7JUwEeK_fe55mcCADU1w-UK_Rg9apia1sHKRoW1KOJTA/exec" method="POST" target="hidden_iframe" onsubmit="submitted=true;">
  <textarea name="message" placeholder="اكتب رسالتك هنا ..." required style="width: 100%; height: 150px; background: #222; color: white; padding: 10px; border-radius: 10px;"></textarea>
  <br><br>
 <button type="submit" style="background-color: #f4e733; padding: 10px 20px; border: none; border-radius: 10px; cursor:pointer;">إرسال</button>
</form>
<iframe name="hidden_iframe" style="display:none;"></iframe>

 <script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector("form");
    const confirmationMessage = document.createElement("div");
    confirmationMessage.style.marginTop = "15px";
    confirmationMessage.style.color = "#00ff88";
    confirmationMessage.style.fontWeight = "bold";
    form.parentNode.insertBefore(confirmationMessage, form.nextSibling);

    let submitted = false;

    form.addEventListener("submit", function () {
      submitted = true;
      confirmationMessage.textContent = "جارٍ الإرسال...";
      
      setTimeout(function () {
        if (submitted) {
          confirmationMessage.textContent = "✅ شكراً لك، تم إرسال رسالتك بنجاح!";
          form.reset();
          submitted = false;
        }
      }, 2000); 
    });

    window.addEventListener("error", function () {
      if (submitted) {
        confirmationMessage.textContent = "❌ لم يتم التسليم، حاول مرة أخرى.";
        submitted = false;
      }
    });
  });
</script>
  </div>
	  
  </div>
	
  <div class="footer-bottom">
    © 2025 نادي كلباء الرياضي الثقافي - جميع الحقوق محفوظة
  </div>
</footer>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</body>
</html>
